# ===================================================================
# BUDGET FAMILLE v2.3 - CONFIGURATION ENVIRONMENT (.env)
# ===================================================================
# Copiez ce fichier vers .env et configurez selon vos besoins

# === SERVER CONFIGURATION ===
SERVER_HOST=127.0.0.1
SERVER_PORT=8000
LOG_LEVEL=info

# === SECURITY & JWT ===
# CRITICAL: Generate a secure key with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Never use default values in production!
JWT_SECRET_KEY=GENERATE_SECURE_KEY_32_CHARS_MINIMUM_REQUIRED
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# === RATE LIMITING ===
# Requests per minute limits
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_AUTH_PER_MINUTE=10
RATE_LIMIT_BURST_SIZE=10

# === DATABASE ===
# Configuration base de données
DATABASE_URL=sqlite:///./budget.db
DATABASE_ECHO=false

# Chiffrement base de données (optionnel - nécessite pysqlcipher3)
ENABLE_DB_ENCRYPTION=false
DB_ENCRYPTION_KEY=your-db-encryption-key-here

# === FILE UPLOAD ===
# Taille maximale des fichiers uploadés (en Mo)
MAX_UPLOAD_SIZE=10
# Extensions autorisées (séparées par des virgules)
ALLOWED_EXTENSIONS=csv,xlsx,xls

# === FEATURES FLAGS ===
# Active/désactive les fonctionnalités
ENABLE_AUDIT_LOGGING=true
ENABLE_MAGIC_DETECTION=true
ENABLE_STRUCTURED_LOGGING=false

# === CORS CONFIGURATION ===
# PRODUCTION: Set specific allowed origins only
# DEVELOPMENT: Localhost origins are automatically added in dev mode
# Format: https://yourdomain.com,https://app.yourdomain.com
CORS_ALLOWED_ORIGINS=
# CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# === DEVELOPMENT ===
# Mode développement
DEBUG=true
RELOAD_ON_CHANGE=true

# === ENVIRONMENT CONFIGURATION ===
# Set to 'production' for production deployments
ENVIRONMENT=development

# === PRODUCTION SETTINGS ===
# Uncomment and configure for production:
# ENVIRONMENT=production
# DEBUG=false
# RELOAD_ON_CHANGE=false
# LOG_LEVEL=warning
# JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
# RATE_LIMIT_PER_MINUTE=30
# RATE_LIMIT_AUTH_PER_MINUTE=5

# ===================================================================
# INSTRUCTIONS:
# 
# 1. Copiez ce fichier: cp .env.example .env
# 2. Générez des clés secrètes sécurisées
# 3. Configurez selon votre environnement
# 4. Ne jamais commiter le fichier .env (déjà dans .gitignore)
# ===================================================================